{"version":3,"file":"minimax.d.ts","names":["OpenAIClient","BaseChatModel","BaseChatModelParams","BaseMessage","ChatResult","CallbackManagerForLLMRun","StructuredToolInterface","BaseFunctionCallOptions","MinimaxMessageRole","MinimaxChatCompletionRequestMessage","MinimaxChatCompletionRequest","RoleMeta","BotSetting","ReplyConstraints","Chat","ChatCompletionCreateParams","Function","RawGlyph","JsonGlyph","ReplyConstraintsGlyph","ConfigurationParameters","Record","MinimaxChatInputBase","MinimaxChatInputNormal","MinimaxChatInputPro","MinimaxChatInput","ChatMinimaxCallOptions","ChatMinimax","Partial","Omit","Promise","AbortSignal","MessageEvent","ChatCompletionResponse","ChatCompletionResponseMessage","ChatCompletionResponseMessageFunctionCall","TokenUsage","BaseResp","ChatCompletionResponseChoicesPro","ChatCompletionResponseChoices","Array"],"sources":["../../src/chat_models/minimax.d.ts"],"sourcesContent":["import type { OpenAIClient } from \"@langchain/openai\";\nimport { BaseChatModel, type BaseChatModelParams } from \"@langchain/core/language_models/chat_models\";\nimport { BaseMessage } from \"@langchain/core/messages\";\nimport { ChatResult } from \"@langchain/core/outputs\";\nimport { CallbackManagerForLLMRun } from \"@langchain/core/callbacks/manager\";\nimport type { StructuredToolInterface } from \"@langchain/core/tools\";\nimport { BaseFunctionCallOptions } from \"@langchain/core/language_models/base\";\n/**\n * Type representing the sender_type of a message in the Minimax chat model.\n */\nexport type MinimaxMessageRole = \"BOT\" | \"USER\" | \"FUNCTION\";\n/**\n * Interface representing a message in the Minimax chat model.\n */\ninterface MinimaxChatCompletionRequestMessage {\n    sender_type: MinimaxMessageRole;\n    sender_name?: string;\n    text: string;\n}\n/**\n * Interface representing a request for a chat completion.\n */\ninterface MinimaxChatCompletionRequest {\n    model: string;\n    messages: MinimaxChatCompletionRequestMessage[];\n    stream?: boolean;\n    prompt?: string;\n    temperature?: number;\n    top_p?: number;\n    tokens_to_generate?: number;\n    skip_info_mask?: boolean;\n    mask_sensitive_info?: boolean;\n    beam_width?: number;\n    use_standard_sse?: boolean;\n    role_meta?: RoleMeta;\n    bot_setting?: BotSetting[];\n    reply_constraints?: ReplyConstraints;\n    sample_messages?: MinimaxChatCompletionRequestMessage[];\n    /**\n     * A list of functions the model may generate JSON inputs for.\n     * @type {Array<OpenAIClient.Chat.ChatCompletionCreateParams.Function[]>}\n     */\n    functions?: OpenAIClient.Chat.ChatCompletionCreateParams.Function[];\n    plugins?: string[];\n}\ninterface RoleMeta {\n    role_meta: string;\n    bot_name: string;\n}\ninterface RawGlyph {\n    type: \"raw\";\n    raw_glyph: string;\n}\ninterface JsonGlyph {\n    type: \"json_value\";\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    json_properties: any;\n}\ntype ReplyConstraintsGlyph = RawGlyph | JsonGlyph;\ninterface ReplyConstraints {\n    sender_type: string;\n    sender_name: string;\n    glyph?: ReplyConstraintsGlyph;\n}\ninterface BotSetting {\n    content: string;\n    bot_name: string;\n}\nexport declare interface ConfigurationParameters {\n    basePath?: string;\n    headers?: Record<string, string>;\n}\n/**\n * Interface defining the input to the ChatMinimax class.\n */\ndeclare interface MinimaxChatInputBase {\n    /**\n     * Model name to use\n     * Alias for `model`\n     * @default \"abab5.5-chat\"\n     */\n    modelName: string;\n    /**\n     * Model name to use\n     * @default \"abab5.5-chat\"\n     */\n    model: string;\n    /** Whether to stream the results or not. Defaults to false. */\n    streaming?: boolean;\n    prefixMessages?: MinimaxChatCompletionRequestMessage[];\n    /**\n     * API key to use when making requests. Defaults to the value of\n     * `MINIMAX_GROUP_ID` environment variable.\n     */\n    minimaxGroupId?: string;\n    /**\n     * Secret key to use when making requests. Defaults to the value of\n     * `MINIMAX_API_KEY` environment variable.\n     * Alias for `apiKey`\n     */\n    minimaxApiKey?: string;\n    /**\n     * Secret key to use when making requests. Defaults to the value of\n     * `MINIMAX_API_KEY` environment variable.\n     */\n    apiKey?: string;\n    /** Amount of randomness injected into the response. Ranges\n     * from 0 to 1 (0 is not included). Use temp closer to 0 for analytical /\n     * multiple choice, and temp closer to 1 for creative\n     * and generative tasks. Defaults to 0.95.\n     */\n    temperature?: number;\n    /**\n     *  The smaller the sampling method, the more determinate the result;\n     *  the larger the number, the more random the result.\n     */\n    topP?: number;\n    /**\n     * Enable Chatcompletion pro\n     */\n    proVersion?: boolean;\n    /**\n     *  Pay attention to the maximum number of tokens generated,\n     *  this parameter does not affect the generation effect of the model itself,\n     *  but only realizes the function by truncating the tokens exceeding the limit.\n     *  It is necessary to ensure that the number of tokens of the input context plus this value is less than 6144 or 16384,\n     *  otherwise the request will fail.\n     */\n    tokensToGenerate?: number;\n}\ndeclare interface MinimaxChatInputNormal {\n    /**\n     *  Dialogue setting, characters, or functionality setting.\n     */\n    prompt?: string;\n    /**\n     *  Sensitize text information in the output that may involve privacy issues,\n     *  currently including but not limited to emails, domain names,\n     *  links, ID numbers, home addresses, etc. Default false, ie. enable sensitization.\n     */\n    skipInfoMask?: boolean;\n    /**\n     *  Whether to use the standard SSE format, when set to true,\n     *  the streaming results will be separated by two line breaks.\n     *  This parameter only takes effect when stream is set to true.\n     */\n    useStandardSse?: boolean;\n    /**\n     *  If it is true, this indicates that the current request is set to continuation mode,\n     *  and the response is a continuation of the last sentence in the incoming messages;\n     *  at this time, the last sender is not limited to USER, it can also be BOT.\n     *  Assuming the last sentence of incoming messages is {\"sender_type\": \" U S E R\", \"text\": \"天生我材\"},\n     *  the completion of the reply may be \"It must be useful.\"\n     */\n    continueLastMessage?: boolean;\n    /**\n     *  How many results to generate; the default is 1 and the maximum is not more than 4.\n     *  Because beamWidth generates multiple results, it will consume more tokens.\n     */\n    beamWidth?: number;\n    /**\n     * Dialogue Metadata\n     */\n    roleMeta?: RoleMeta;\n}\ndeclare interface MinimaxChatInputPro extends MinimaxChatInputBase {\n    /**\n     *  For the text information in the output that may involve privacy issues,\n     *  code masking is currently included but not limited to emails, domains, links, ID numbers, home addresses, etc.,\n     *  with the default being true, that is, code masking is enabled.\n     */\n    maskSensitiveInfo?: boolean;\n    /**\n     *  Default bot name\n     */\n    defaultBotName?: string;\n    /**\n     *  Default user name\n     */\n    defaultUserName?: string;\n    /**\n     *  Setting for each robot, only available for pro version.\n     */\n    botSetting?: BotSetting[];\n    replyConstraints?: ReplyConstraints;\n}\ntype MinimaxChatInput = MinimaxChatInputNormal & MinimaxChatInputPro;\nexport interface ChatMinimaxCallOptions extends BaseFunctionCallOptions {\n    tools?: StructuredToolInterface[];\n    defaultUserName?: string;\n    defaultBotName?: string;\n    plugins?: string[];\n    botSetting?: BotSetting[];\n    replyConstraints?: ReplyConstraints;\n    sampleMessages?: BaseMessage[];\n}\n/**\n * Wrapper around Minimax large language models that use the Chat endpoint.\n *\n * To use you should have the `MINIMAX_GROUP_ID` and `MINIMAX_API_KEY`\n * environment variable set.\n * @example\n * ```typescript\n * // Define a chat prompt with a system message setting the context for translation\n * const chatPrompt = ChatPromptTemplate.fromMessages([\n *   SystemMessagePromptTemplate.fromTemplate(\n *     \"You are a helpful assistant that translates {input_language} to {output_language}.\",\n *   ),\n *   HumanMessagePromptTemplate.fromTemplate(\"{text}\"),\n * ]);\n *\n * // Create a new LLMChain with the chat model and the defined prompt\n * const chainB = new LLMChain({\n *   prompt: chatPrompt,\n *   llm: new ChatMinimax({ temperature: 0.01 }),\n * });\n *\n * // Call the chain with the input language, output language, and the text to translate\n * const resB = await chainB.call({\n *   input_language: \"English\",\n *   output_language: \"Chinese\",\n *   text: \"I love programming.\",\n * });\n *\n * // Log the result\n * console.log({ resB });\n *\n * ```\n */\nexport declare class ChatMinimax extends BaseChatModel<ChatMinimaxCallOptions> implements MinimaxChatInput {\n    static lc_name(): string;\n    get callKeys(): (keyof ChatMinimaxCallOptions)[];\n    get lc_secrets(): {\n        [key: string]: string;\n    } | undefined;\n    lc_serializable: boolean;\n    minimaxGroupId?: string;\n    minimaxApiKey?: string;\n    apiKey?: string;\n    streaming: boolean;\n    prompt?: string;\n    modelName: string;\n    model: string;\n    defaultBotName?: string;\n    defaultUserName?: string;\n    prefixMessages?: MinimaxChatCompletionRequestMessage[];\n    apiUrl: string;\n    basePath?: string;\n    headers?: Record<string, string>;\n    temperature?: number;\n    topP?: number;\n    tokensToGenerate?: number;\n    skipInfoMask?: boolean;\n    proVersion?: boolean;\n    beamWidth?: number;\n    botSetting?: BotSetting[];\n    continueLastMessage?: boolean;\n    maskSensitiveInfo?: boolean;\n    roleMeta?: RoleMeta;\n    useStandardSse?: boolean;\n    replyConstraints?: ReplyConstraints;\n    constructor(fields?: Partial<MinimaxChatInput> & BaseChatModelParams & {\n        configuration?: ConfigurationParameters;\n    });\n    fallbackBotName(options?: this[\"ParsedCallOptions\"]): string;\n    defaultReplyConstraints(options?: this[\"ParsedCallOptions\"]): ReplyConstraints;\n    /**\n     * Get the parameters used to invoke the model\n     */\n    invocationParams(options?: this[\"ParsedCallOptions\"]): Omit<MinimaxChatCompletionRequest, \"messages\">;\n    /**\n     * Get the identifying parameters for the model\n     */\n    identifyingParams(): {\n        model: string;\n        stream?: boolean | undefined;\n        prompt?: string | undefined;\n        temperature?: number | undefined;\n        top_p?: number | undefined;\n        tokens_to_generate?: number | undefined;\n        skip_info_mask?: boolean | undefined;\n        mask_sensitive_info?: boolean | undefined;\n        beam_width?: number | undefined;\n        use_standard_sse?: boolean | undefined;\n        role_meta?: RoleMeta | undefined;\n        bot_setting?: BotSetting[] | undefined;\n        reply_constraints?: ReplyConstraints | undefined;\n        sample_messages?: MinimaxChatCompletionRequestMessage[] | undefined;\n        functions?: OpenAIClient.ChatCompletionCreateParams.Function[] | undefined;\n        plugins?: string[] | undefined;\n    };\n    /**\n     * Convert a list of messages to the format expected by the model.\n     * @param messages\n     * @param options\n     */\n    messageToMinimaxMessage(messages?: BaseMessage[], options?: this[\"ParsedCallOptions\"]): MinimaxChatCompletionRequestMessage[] | undefined;\n    /** @ignore */\n    _generate(messages: BaseMessage[], options?: this[\"ParsedCallOptions\"], runManager?: CallbackManagerForLLMRun): Promise<ChatResult>;\n    /** @ignore */\n    completionWithRetry(request: MinimaxChatCompletionRequest, stream: boolean, signal?: AbortSignal, onmessage?: (event: MessageEvent) => void): Promise<ChatCompletionResponse>;\n    _llmType(): string;\n    /** @ignore */\n    _combineLLMOutput(): never[];\n    private botSettingFallback;\n}\n/** ---Response Model---* */\n/**\n * Interface representing a message responsed in the Minimax chat model.\n */\ninterface ChatCompletionResponseMessage {\n    sender_type: MinimaxMessageRole;\n    sender_name?: string;\n    text: string;\n    function_call?: ChatCompletionResponseMessageFunctionCall;\n}\n/**\n * Interface representing the usage of tokens in a chat completion.\n */\ninterface TokenUsage {\n    total_tokens?: number;\n}\ninterface BaseResp {\n    status_code?: number;\n    status_msg?: string;\n}\n/**\n * The name and arguments of a function that should be called, as generated by the model.\n * @export\n * @interface ChatCompletionResponseMessageFunctionCall\n */\nexport interface ChatCompletionResponseMessageFunctionCall {\n    /**\n     * The name of the function to call.\n     * @type {string}\n     * @memberof ChatCompletionResponseMessageFunctionCall\n     */\n    name?: string;\n    /**\n     * The arguments to call the function with, as generated by the model in JSON format. Note that the model does not always generate valid JSON, and may hallucinate parameters not defined by your function schema. Validate the arguments in your code before calling your function.\n     * @type {string}\n     * @memberof ChatCompletionResponseMessageFunctionCall\n     */\n    arguments?: string;\n}\n/**\n *\n * @export\n * @interface ChatCompletionResponseChoices\n */\nexport interface ChatCompletionResponseChoicesPro {\n    /**\n     *\n     * @type {string}\n     * @memberof ChatCompletionResponseChoices\n     */\n    messages?: ChatCompletionResponseMessage[];\n    /**\n     *\n     * @type {string}\n     * @memberof ChatCompletionResponseChoices\n     */\n    finish_reason?: string;\n}\ninterface ChatCompletionResponseChoices {\n    delta?: string;\n    text?: string;\n    index?: number;\n    finish_reason?: string;\n}\n/**\n * Interface representing a response from a chat completion.\n */\ninterface ChatCompletionResponse {\n    model: string;\n    created: number;\n    reply: string;\n    input_sensitive?: boolean;\n    input_sensitive_type?: number;\n    output_sensitive?: boolean;\n    output_sensitive_type?: number;\n    usage?: TokenUsage;\n    base_resp?: BaseResp;\n    choices: Array<ChatCompletionResponseChoicesPro & ChatCompletionResponseChoices>;\n}\nexport {};\n"],"mappings":"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"}