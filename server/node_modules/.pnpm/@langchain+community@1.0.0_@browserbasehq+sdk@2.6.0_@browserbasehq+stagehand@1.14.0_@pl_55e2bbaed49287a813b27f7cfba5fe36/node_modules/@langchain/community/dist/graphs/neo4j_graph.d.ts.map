{"version":3,"file":"neo4j_graph.d.ts","names":["RoutingControl","GraphDocument","Any","Neo4jGraphConfig","StructuredSchema","NodeType","RelType","PathType","Record","AddGraphDocumentsConfig","BASE_ENTITY_LABEL","Neo4jGraph","url","username","password","database","timeoutMs","enhancedSchema","Promise","RecordShape"],"sources":["../../src/graphs/neo4j_graph.d.ts"],"sourcesContent":["import { RoutingControl } from \"neo4j-driver\";\nimport { GraphDocument } from \"./document.js\";\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ntype Any = any;\ninterface Neo4jGraphConfig {\n    url: string;\n    username: string;\n    password: string;\n    database?: string;\n    timeoutMs?: number;\n    enhancedSchema?: boolean;\n}\ninterface StructuredSchema {\n    nodeProps: {\n        [key: NodeType[\"labels\"]]: NodeType[\"properties\"];\n    };\n    relProps: {\n        [key: RelType[\"type\"]]: RelType[\"properties\"];\n    };\n    relationships: PathType[];\n    metadata?: {\n        constraint: Record<string, Any>;\n        index: Record<string, Any>;\n    };\n}\nexport interface AddGraphDocumentsConfig {\n    baseEntityLabel?: boolean;\n    includeSource?: boolean;\n}\nexport type NodeType = {\n    labels: string;\n    properties: {\n        property: string;\n        type: string;\n    }[];\n};\nexport type RelType = {\n    type: string;\n    properties: {\n        property: string;\n        type: string;\n    }[];\n};\nexport type PathType = {\n    start: string;\n    type: string;\n    end: string;\n};\nexport declare const BASE_ENTITY_LABEL = \"__Entity__\";\n/**\n * @security *Security note*: Make sure that the database connection uses credentials\n * that are narrowly-scoped to only include necessary permissions.\n * Failure to do so may result in data corruption or loss, since the calling\n * code may attempt commands that would result in deletion, mutation\n * of data if appropriately prompted or reading sensitive data if such\n * data is present in the database.\n * The best way to guard against such negative outcomes is to (as appropriate)\n * limit the permissions granted to the credentials used with this tool.\n * For example, creating read only users for the database is a good way to\n * ensure that the calling code cannot mutate or delete data.\n *\n * @link See https://js.langchain.com/docs/security for more information.\n */\nexport declare class Neo4jGraph {\n    private driver;\n    private database;\n    private timeoutMs;\n    private enhancedSchema;\n    protected schema: string;\n    protected structuredSchema: StructuredSchema;\n    constructor({ url, username, password, database, timeoutMs, enhancedSchema }: Neo4jGraphConfig);\n    static initialize(config: Neo4jGraphConfig): Promise<Neo4jGraph>;\n    getSchema(): string;\n    getStructuredSchema(): StructuredSchema;\n    query<RecordShape extends Record<string, Any> = Record<string, Any>>(query: string, params?: Record<string, Any>, routing?: RoutingControl): Promise<RecordShape[]>;\n    verifyConnectivity(): Promise<void>;\n    refreshSchema(): Promise<void>;\n    enhancedSchemaCypher(labelOrType: string, properties: {\n        property: string;\n        type: string;\n    }[], exhaustive: boolean, isRelationship?: boolean): Promise<string>;\n    addGraphDocuments(graphDocuments: GraphDocument[], config?: AddGraphDocumentsConfig): Promise<void>;\n    close(): Promise<void>;\n}\nexport {};\n"],"mappings":";;;;;;;;KAGKE,GAAAA;UACKC,gBAAAA;;;;;;;;UAQAC,gBAAAA;;IATLF,CAAAA,GAAG,EAWMG,QAXN,CAAA,QAAA,CAAA,CAAA,EAW2BA,QAX3B,CAAA,YAAA,CAAA;EACEF,CAAAA;EAQAC,QAAAA,EAAAA;IAAgB,CAAA,GAAA,EAKZE,OALY,CAAA,MAAA,CAAA,CAAA,EAKMA,OALN,CAAA,YAAA,CAAA;EAAA,CAAA;EAEJ,aAAaD,EAKhBE,QALgBF,EAAAA;EAAQ,QAG7BC,CAAAA,EAAAA;IAAkBA,UAAAA,EAIZE,MAJYF,CAAAA,MAAAA,EAIGJ,GAJHI,CAAAA;IAEbC,KAAAA,EAGJC,MAHID,CAAAA,MAAAA,EAGWL,GAHXK,CAAAA;EAAQ,CAAA;;AAGGL,UAGbO,uBAAAA,CAHaP;EAAG,eAAlBM,CAAAA,EAAAA,OAAAA;EAAM,aAAA,CAAA,EAAA,OAAA;AAGrB;AAIYH,KAAAA,QAAAA,GAAQ;EAORC,MAAAA,EAAAA,MAAO;EAOPC,UAAAA,EAAQ;IAKCG,QAAAA,EAAAA,MAAiB;IAejBC,IAAAA,EAAAA,MAAU;EAAA,CAAA,EAAA;CAAA;AAObC,KAlCNN,OAAAA,GAkCMM;EAAG,IAAEC,EAAAA,MAAAA;EAAQ,UAAEC,EAAAA;IAAUC,QAAAA,EAAAA,MAAAA;IAAUC,IAAAA,EAAAA,MAAAA;EAAS,CAAA,EAAEC;CAAc;AAChDd,KA5BlBI,QAAAA,GA4BkBJ;EAAgB,KAAWQ,EAAAA,MAAAA;EAAU,IAAlBO,EAAAA,MAAAA;EAAO,GAE7Bd,EAAAA,MAAAA;CAAgB;AACbI,cA1BTE,iBAAAA,GA0BSF,YAAAA;;;;;;;;;;;;;;;AAQV,cAnBCG,UAAAA,CAmBD;;;;;;8BAbYP;;;;;;;;KACkDD;4BACpDA,mBAAmBe,QAAQP;;yBAE9BP;4BACGI,eAAeN,OAAOM,eAAeN,8BAA8BM,eAAeN,gBAAgBF,iBAAiBkB,QAAQC;wBAC/HD;mBACLA;;;;uDAIoCA;oCACnBjB,0BAA0BQ,0BAA0BS;WAC7EA"}