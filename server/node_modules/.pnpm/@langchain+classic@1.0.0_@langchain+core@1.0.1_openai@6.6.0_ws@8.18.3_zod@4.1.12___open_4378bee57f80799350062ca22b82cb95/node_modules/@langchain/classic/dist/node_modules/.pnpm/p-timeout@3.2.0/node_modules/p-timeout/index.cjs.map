{"version":3,"file":"index.cjs","names":[],"sources":["../../../../../../../../node_modules/.pnpm/p-timeout@3.2.0/node_modules/p-timeout/index.js"],"sourcesContent":["'use strict';\n\nconst pFinally = require('p-finally');\n\nclass TimeoutError extends Error {\n\tconstructor(message) {\n\t\tsuper(message);\n\t\tthis.name = 'TimeoutError';\n\t}\n}\n\nconst pTimeout = (promise, milliseconds, fallback) => new Promise((resolve, reject) => {\n\tif (typeof milliseconds !== 'number' || milliseconds < 0) {\n\t\tthrow new TypeError('Expected `milliseconds` to be a positive number');\n\t}\n\n\tif (milliseconds === Infinity) {\n\t\tresolve(promise);\n\t\treturn;\n\t}\n\n\tconst timer = setTimeout(() => {\n\t\tif (typeof fallback === 'function') {\n\t\t\ttry {\n\t\t\t\tresolve(fallback());\n\t\t\t} catch (error) {\n\t\t\t\treject(error);\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tconst message = typeof fallback === 'string' ? fallback : `Promise timed out after ${milliseconds} milliseconds`;\n\t\tconst timeoutError = fallback instanceof Error ? fallback : new TimeoutError(message);\n\n\t\tif (typeof promise.cancel === 'function') {\n\t\t\tpromise.cancel();\n\t\t}\n\n\t\treject(timeoutError);\n\t}, milliseconds);\n\n\t// TODO: Use native `finally` keyword when targeting Node.js 10\n\tpFinally(\n\t\t// eslint-disable-next-line promise/prefer-await-to-then\n\t\tpromise.then(resolve, reject),\n\t\t() => {\n\t\t\tclearTimeout(timer);\n\t\t}\n\t);\n});\n\nmodule.exports = pTimeout;\n// TODO: Remove this for the next major release\nmodule.exports.default = pTimeout;\n\nmodule.exports.TimeoutError = TimeoutError;\n"],"x_google_ignoreList":[0],"mappings":";;;;;;;;CAEA,MAAM;CAEN,IAAM,eAAN,cAA2B,MAAM;EAChC,YAAY,SAAS;GACpB,MAAM,QAAQ;GACd,KAAK,OAAO;EACZ;CACD;CAED,MAAM,WAAW,CAAC,SAAS,cAAc,aAAa,IAAI,QAAQ,CAAC,SAAS,WAAW;AACtF,MAAI,OAAO,iBAAiB,YAAY,eAAe,EACtD,OAAM,IAAI,UAAU;AAGrB,MAAI,iBAAiB,UAAU;GAC9B,QAAQ,QAAQ;AAChB;EACA;EAED,MAAM,QAAQ,WAAW,MAAM;AAC9B,OAAI,OAAO,aAAa,YAAY;AACnC,QAAI;KACH,QAAQ,UAAU,CAAC;IACnB,SAAQ,OAAO;KACf,OAAO,MAAM;IACb;AAED;GACA;GAED,MAAM,UAAU,OAAO,aAAa,WAAW,WAAW,CAAC,wBAAwB,EAAE,aAAa,aAAa,CAAC;GAChH,MAAM,eAAe,oBAAoB,QAAQ,WAAW,IAAI,aAAa;AAE7E,OAAI,OAAO,QAAQ,WAAW,YAC7B,QAAQ,QAAQ;GAGjB,OAAO,aAAa;EACpB,GAAE,aAAa;EAGhB,SAEC,QAAQ,KAAK,SAAS,OAAO,EAC7B,MAAM;GACL,aAAa,MAAM;EACnB,EACD;CACD;CAED,OAAO,UAAU;CAEjB,OAAO,QAAQ,UAAU;CAEzB,OAAO,QAAQ,eAAe"}