{"version":3,"file":"load.js","names":["uri: string","loader: FileLoader<T>","values: LoadValues"],"sources":["../../src/util/load.ts"],"sourcesContent":["// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport type LoadValues = Record<string, any>;\n\nexport type FileLoader<T> = (\n  text: string,\n  filePath: string,\n  values: LoadValues\n) => Promise<T>;\n\nexport const loadFromFile = async <T>(\n  uri: string,\n  loader: FileLoader<T>,\n  values: LoadValues = {}\n): Promise<T> => {\n  try {\n    const fs = await import(\"node:fs/promises\");\n    return loader(await fs.readFile(uri, { encoding: \"utf-8\" }), uri, values);\n  } catch (e) {\n    console.error(e);\n    throw new Error(`Could not load file at ${uri}`);\n  }\n};\n"],"mappings":";AASA,MAAa,eAAe,OAC1BA,KACAC,QACAC,SAAqB,CAAE,MACR;AACf,KAAI;EACF,MAAM,KAAK,MAAM,OAAO;AACxB,SAAO,OAAO,MAAM,GAAG,SAAS,KAAK,EAAE,UAAU,QAAS,EAAC,EAAE,KAAK,OAAO;CAC1E,SAAQ,GAAG;EACV,QAAQ,MAAM,EAAE;AAChB,QAAM,IAAI,MAAM,CAAC,uBAAuB,EAAE,KAAK;CAChD;AACF"}