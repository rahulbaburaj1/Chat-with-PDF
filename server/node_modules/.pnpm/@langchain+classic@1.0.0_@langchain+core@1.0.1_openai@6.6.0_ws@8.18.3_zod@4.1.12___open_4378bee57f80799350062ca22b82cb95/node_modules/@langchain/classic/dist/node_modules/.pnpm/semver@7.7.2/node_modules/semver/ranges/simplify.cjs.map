{"version":3,"file":"simplify.cjs","names":[],"sources":["../../../../../../../../../node_modules/.pnpm/semver@7.7.2/node_modules/semver/ranges/simplify.js"],"sourcesContent":["'use strict'\n\n// given a set of versions and a range, create a \"simplified\" range\n// that includes the same versions that the original range does\n// If the original range is shorter than the simplified one, return that.\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\nmodule.exports = (versions, range, options) => {\n  const set = []\n  let first = null\n  let prev = null\n  const v = versions.sort((a, b) => compare(a, b, options))\n  for (const version of v) {\n    const included = satisfies(version, range, options)\n    if (included) {\n      prev = version\n      if (!first) {\n        first = version\n      }\n    } else {\n      if (prev) {\n        set.push([first, prev])\n      }\n      prev = null\n      first = null\n    }\n  }\n  if (first) {\n    set.push([first, null])\n  }\n\n  const ranges = []\n  for (const [min, max] of set) {\n    if (min === max) {\n      ranges.push(min)\n    } else if (!max && min === v[0]) {\n      ranges.push('*')\n    } else if (!max) {\n      ranges.push(`>=${min}`)\n    } else if (min === v[0]) {\n      ranges.push(`<=${max}`)\n    } else {\n      ranges.push(`${min} - ${max}`)\n    }\n  }\n  const simplified = ranges.join(' || ')\n  const original = typeof range.raw === 'string' ? range.raw : String(range)\n  return simplified.length < original.length ? simplified : range\n}\n"],"x_google_ignoreList":[0],"mappings":";;;;;;;;;CAKA,MAAM;CACN,MAAM;CACN,OAAO,UAAU,CAAC,UAAU,OAAO,YAAY;EAC7C,MAAM,MAAM,CAAE;EACd,IAAI,QAAQ;EACZ,IAAI,OAAO;EACX,MAAM,IAAI,SAAS,KAAK,CAAC,GAAG,MAAM,QAAQ,GAAG,GAAG,QAAQ,CAAC;AACzD,OAAK,MAAM,WAAW,GAAG;GACvB,MAAM,WAAW,UAAU,SAAS,OAAO,QAAQ;AACnD,OAAI,UAAU;IACZ,OAAO;AACP,QAAI,CAAC,OACH,QAAQ;GAEX,OAAM;AACL,QAAI,MACF,IAAI,KAAK,CAAC,OAAO,IAAK,EAAC;IAEzB,OAAO;IACP,QAAQ;GACT;EACF;AACD,MAAI,OACF,IAAI,KAAK,CAAC,OAAO,IAAK,EAAC;EAGzB,MAAM,SAAS,CAAE;AACjB,OAAK,MAAM,CAAC,KAAK,IAAI,IAAI,IACvB,KAAI,QAAQ,KACV,OAAO,KAAK,IAAI;WACP,CAAC,OAAO,QAAQ,EAAE,IAC3B,OAAO,KAAK,IAAI;WACP,CAAC,KACV,OAAO,KAAK,CAAC,EAAE,EAAE,KAAK,CAAC;WACd,QAAQ,EAAE,IACnB,OAAO,KAAK,CAAC,EAAE,EAAE,KAAK,CAAC;OAEvB,OAAO,KAAK,GAAG,IAAI,GAAG,EAAE,KAAK,CAAC;EAGlC,MAAM,aAAa,OAAO,KAAK,OAAO;EACtC,MAAM,WAAW,OAAO,MAAM,QAAQ,WAAW,MAAM,MAAM,OAAO,MAAM;AAC1E,SAAO,WAAW,SAAS,SAAS,SAAS,aAAa;CAC3D"}