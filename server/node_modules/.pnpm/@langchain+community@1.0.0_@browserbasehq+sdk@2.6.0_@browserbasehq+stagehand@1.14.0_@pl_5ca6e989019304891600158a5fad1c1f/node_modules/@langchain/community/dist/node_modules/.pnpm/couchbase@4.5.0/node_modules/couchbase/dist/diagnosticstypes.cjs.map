{"version":3,"file":"diagnosticstypes.cjs","names":["EndpointState","PingState"],"sources":["../../../../../../../../../node_modules/.pnpm/couchbase@4.5.0/node_modules/couchbase/dist/diagnosticstypes.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiagnosticsResult = exports.DiagnosticsEndpoint = exports.PingResult = exports.PingEndpoint = exports.PingState = exports.EndpointState = void 0;\n/**\n * Represents the status of an an endpoint in a diagnostics report.\n *\n * @category Diagnostics\n */\nvar EndpointState;\n(function (EndpointState) {\n    /**\n     * Indicates the endpoint is disconnected.\n     */\n    EndpointState[EndpointState[\"Disconnected\"] = 0] = \"Disconnected\";\n    /**\n     * Indicates the endpoint is still connecting.\n     */\n    EndpointState[EndpointState[\"Connecting\"] = 1] = \"Connecting\";\n    /**\n     * Indicates the endpoint is connected.\n     */\n    EndpointState[EndpointState[\"Connected\"] = 2] = \"Connected\";\n    /**\n     * Indicates the endpoint is disconnecting.\n     */\n    EndpointState[EndpointState[\"Disconnecting\"] = 3] = \"Disconnecting\";\n})(EndpointState || (exports.EndpointState = EndpointState = {}));\n/**\n * Represents the status of an an endpoint in a ping report.\n */\nvar PingState;\n(function (PingState) {\n    /**\n     * Indicates the endpoint was pinged successfully.\n     */\n    PingState[PingState[\"Ok\"] = 0] = \"Ok\";\n    /**\n     * Indicates the endpoint timed out during the ping.\n     */\n    PingState[PingState[\"Timeout\"] = 1] = \"Timeout\";\n    /**\n     * Indicates an error occured trying to ping the endpoint.\n     */\n    PingState[PingState[\"Error\"] = 2] = \"Error\";\n})(PingState || (exports.PingState = PingState = {}));\n/**\n * PingEndpoint represents a single endpoint in a ping result.\n *\n * @category Diagnostics\n */\nclass PingEndpoint {\n    /**\n     * @internal\n     */\n    constructor(data) {\n        this.type = data.type;\n        this.id = data.id;\n        this.latency = data.latency;\n        this.remote = data.remote;\n        this.local = data.local;\n        this.state = data.state;\n        this.bucket = data.bucket;\n        this.error = data.error;\n    }\n}\nexports.PingEndpoint = PingEndpoint;\n/**\n * PingResult represents the output of a ping operation.\n *\n * @category Diagnostics\n */\nclass PingResult {\n    /**\n     * @internal\n     */\n    constructor(data) {\n        this.version = data.version;\n        this.id = data.id;\n        this.sdk = data.sdk;\n        this.services = data.services;\n    }\n    /**\n     * Returns a JSON formatted ping report.\n     */\n    toJSON() {\n        return {\n            version: this.version,\n            id: this.id,\n            sdk: this.sdk,\n            services: Object.fromEntries(Object.entries(this.services).map(([serviceType, services]) => {\n                return [\n                    serviceType,\n                    services.map((svc) => {\n                        return {\n                            latency_us: svc.latency * 1000000,\n                            remote: svc.remote,\n                            local: svc.local,\n                            id: svc.id,\n                            state: svc.state, // state enum is already a string\n                            namespace: svc.bucket,\n                            error: svc.error,\n                        };\n                    }),\n                ];\n            })),\n        };\n    }\n}\nexports.PingResult = PingResult;\n/**\n * DiagnosticsEndpoint represents a single endpoint in a diagnostics\n * result.\n *\n * @category Diagnostics\n */\nclass DiagnosticsEndpoint {\n    /**\n     * @internal\n     */\n    constructor(data) {\n        this.type = data.type;\n        this.id = data.id;\n        this.local = data.local;\n        this.remote = data.remote;\n        this.lastActivity = data.lastActivity;\n        this.state = data.state;\n    }\n}\nexports.DiagnosticsEndpoint = DiagnosticsEndpoint;\n/**\n * DiagnosticsResult represents the output of a operation result.\n *\n * @category Diagnostics\n */\nclass DiagnosticsResult {\n    /**\n     * @internal\n     */\n    constructor(data) {\n        this.version = data.version;\n        this.id = data.id;\n        this.sdk = data.sdk;\n        this.services = data.services;\n    }\n    /**\n     * Returns a JSON formatted diagnostics report.\n     */\n    toJSON() {\n        return {\n            version: this.version,\n            id: this.id,\n            sdk: this.sdk,\n            services: Object.fromEntries(Object.entries(this.services).map(([serviceType, services]) => {\n                return [\n                    serviceType,\n                    services.map((svc) => {\n                        return {\n                            last_activity_us: svc.lastActivity * 1000000,\n                            remote: svc.remote,\n                            local: svc.local,\n                            id: svc.id,\n                            state: svc.state, // state enum is already a string\n                            namespace: svc.bucket,\n                            details: svc.details,\n                        };\n                    }),\n                ];\n            })),\n        };\n    }\n}\nexports.DiagnosticsResult = DiagnosticsResult;\n"],"x_google_ignoreList":[0],"mappings":";;;;;;;CACA,OAAO,eAAe,SAAS,cAAc,EAAE,OAAO,KAAM,EAAC;CAC7D,QAAQ,oBAAoB,QAAQ,sBAAsB,QAAQ,aAAa,QAAQ,eAAe,QAAQ,YAAY,QAAQ,gBAAgB,KAAK;;;;;;CAMvJ,IAAI;EACH,SAAUA,iBAAe;;;;EAItBA,gBAAcA,gBAAc,kBAAkB,KAAK;;;;EAInDA,gBAAcA,gBAAc,gBAAgB,KAAK;;;;EAIjDA,gBAAcA,gBAAc,eAAe,KAAK;;;;EAIhDA,gBAAcA,gBAAc,mBAAmB,KAAK;CACvD,GAAE,kBAAkB,QAAQ,gBAAgB,gBAAgB,CAAE,GAAE;;;;CAIjE,IAAI;EACH,SAAUC,aAAW;;;;EAIlBA,YAAUA,YAAU,QAAQ,KAAK;;;;EAIjCA,YAAUA,YAAU,aAAa,KAAK;;;;EAItCA,YAAUA,YAAU,WAAW,KAAK;CACvC,GAAE,cAAc,QAAQ,YAAY,YAAY,CAAE,GAAE;;;;;;CAMrD,IAAM,eAAN,MAAmB;;;;EAIf,YAAY,MAAM;GACd,KAAK,OAAO,KAAK;GACjB,KAAK,KAAK,KAAK;GACf,KAAK,UAAU,KAAK;GACpB,KAAK,SAAS,KAAK;GACnB,KAAK,QAAQ,KAAK;GAClB,KAAK,QAAQ,KAAK;GAClB,KAAK,SAAS,KAAK;GACnB,KAAK,QAAQ,KAAK;EACrB;CACJ;CACD,QAAQ,eAAe;;;;;;CAMvB,IAAM,aAAN,MAAiB;;;;EAIb,YAAY,MAAM;GACd,KAAK,UAAU,KAAK;GACpB,KAAK,KAAK,KAAK;GACf,KAAK,MAAM,KAAK;GAChB,KAAK,WAAW,KAAK;EACxB;;;;EAID,SAAS;AACL,UAAO;IACH,SAAS,KAAK;IACd,IAAI,KAAK;IACT,KAAK,KAAK;IACV,UAAU,OAAO,YAAY,OAAO,QAAQ,KAAK,SAAS,CAAC,IAAI,CAAC,CAAC,aAAa,SAAS,KAAK;AACxF,YAAO,CACH,aACA,SAAS,IAAI,CAAC,QAAQ;AAClB,aAAO;OACH,YAAY,IAAI,UAAU;OAC1B,QAAQ,IAAI;OACZ,OAAO,IAAI;OACX,IAAI,IAAI;OACR,OAAO,IAAI;OACX,WAAW,IAAI;OACf,OAAO,IAAI;MACd;KACJ,EAAC,AACL;IACJ,EAAC,CAAC;GACN;EACJ;CACJ;CACD,QAAQ,aAAa;;;;;;;CAOrB,IAAM,sBAAN,MAA0B;;;;EAItB,YAAY,MAAM;GACd,KAAK,OAAO,KAAK;GACjB,KAAK,KAAK,KAAK;GACf,KAAK,QAAQ,KAAK;GAClB,KAAK,SAAS,KAAK;GACnB,KAAK,eAAe,KAAK;GACzB,KAAK,QAAQ,KAAK;EACrB;CACJ;CACD,QAAQ,sBAAsB;;;;;;CAM9B,IAAM,oBAAN,MAAwB;;;;EAIpB,YAAY,MAAM;GACd,KAAK,UAAU,KAAK;GACpB,KAAK,KAAK,KAAK;GACf,KAAK,MAAM,KAAK;GAChB,KAAK,WAAW,KAAK;EACxB;;;;EAID,SAAS;AACL,UAAO;IACH,SAAS,KAAK;IACd,IAAI,KAAK;IACT,KAAK,KAAK;IACV,UAAU,OAAO,YAAY,OAAO,QAAQ,KAAK,SAAS,CAAC,IAAI,CAAC,CAAC,aAAa,SAAS,KAAK;AACxF,YAAO,CACH,aACA,SAAS,IAAI,CAAC,QAAQ;AAClB,aAAO;OACH,kBAAkB,IAAI,eAAe;OACrC,QAAQ,IAAI;OACZ,OAAO,IAAI;OACX,IAAI,IAAI;OACR,OAAO,IAAI;OACX,WAAW,IAAI;OACf,SAAS,IAAI;MAChB;KACJ,EAAC,AACL;IACJ,EAAC,CAAC;GACN;EACJ;CACJ;CACD,QAAQ,oBAAoB"}